

### 未列出的脚本
content.js内容脚本和background.js脚本可以被WXT自动管理和在生成manifest时自动加入
而其他的自己写的脚本，需要用`defineUnlistedScript`方法定义，需要手动在manifest中添加
示例：

完整代码：
```js
//entrypoints/main-world/main-world-xxx.js
import { defineUnlistedScript } from "#imports";
export default defineUnlistedScript(() => {})
```
```js
manifest: {
    web_accessible_resources: [
        {
            resources: ["main-world-xxx.js"],
            matches: ["*://*/*"],
        },
    ]
}
```


### 脚本注入，隔离图片，Page Script（页面脚本），injectScript
本质上是普通 `<script> `标签加载的脚本，路径请求来自我们自己写的js，浏览器自己去加载并执行脚本
```<script src="/main-world-xxx.js"></script>```
#### injectScript
WXT提供了`injectScript`方法用于将我们自己的脚本注入到页面中，
```js
await injectScript('/main-world-xxx.js', {
    keepInDom: true,
});
```
`injectScript`方法接受两个参数，第一个参数是脚本的URL，第二个参数是一个对象，用于控制脚本的注入行为。
脚本注入行为包括：
##### keepInDom参数
`keepInDom`：是否保留脚本标签，默认为false，表示脚本标签会自动移除。
如果脚本只有监听事件，成功注入后，移除即可，事件已经在内存中监听
如果脚本中有函数方法，需要被重复调用，则建议保留脚本标签，这样脚本方法会自动被重复调用。
 
示例代码：
```js
// entrypoints/DouBao.content.js
import {defineContentScript, injectScript} from "#imports";

export default defineContentScript({
    matches: ['*://*.doubao.com/chat/*'],
    async main() {
        console.log('Injecting script...');
        await injectScript('/main-world-doubao.js', {
            keepInDom: true,
        });
        console.log('Done!');
    },
});
```